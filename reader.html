<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Story Reader</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="assets/images/favicon.svg">
    <link rel="alternate icon" type="image/svg+xml" href="assets/images/favicon.svg">
    <link rel="apple-touch-icon" href="assets/images/favicon.svg">
    
    <!-- Theme color for browser chrome -->
    <meta name="theme-color" content="#8b4513">
    
    <!-- Web app manifest -->
    <link rel="manifest" href="site.webmanifest">
    
    <!-- Description for SEO -->
    <meta name="description" content="Read interactive AI-powered fantasy stories and choose your own adventure">
    
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
    <!-- Skip to main content for keyboard users -->
    <a href="#story-text" class="skip-link">Skip to story content</a>
    
    <div class="container">
        <header class="reader-header">
            <a href="#" onclick="window.location.href=buildPath('index.html'); return false;" class="home-link">‚Üê Back to Stories</a>
            <button id="accessibility-toggle" class="icon-btn" aria-label="Accessibility settings" title="Accessibility settings">
                ‚öôÔ∏è
            </button>
            <button id="favorite-story-btn" class="favorite-btn" style="position: absolute; top: 20px; right: 65px;" aria-label="Add to favorites" title="Add to favorites">ü§ç</button>
            <h1 id="story-title">Loading...</h1>
            <nav class="reader-navbar">
                <button id="return-to-start-btn" class="nav-btn" aria-label="Return to Start" title="Return to Start">Return to start</button>
                <button id="back-one-node-btn" class="nav-btn" aria-label="Back One Node" title="Back One Node">Back</button>
            </nav>
        </header>
        
        <!-- Accessibility settings panel -->
        <aside id="accessibility-panel" class="accessibility-panel hidden" aria-label="Accessibility settings">
            <h2>Accessibility Settings</h2>
            <div class="setting-group">
                <label>
                    <input type="checkbox" id="dyslexia-font-toggle" aria-label="Enable dyslexia-friendly font">
                    <span>Dyslexia-friendly font</span>
                </label>
            </div>
            <div class="setting-group">
                <label>
                    <input type="checkbox" id="high-contrast-toggle" aria-label="Enable high contrast mode">
                    <span>High contrast mode</span>
                </label>
            </div>
            <div class="setting-group">
                <label>
                    <input type="checkbox" id="reduced-motion-toggle" aria-label="Reduce animations and motion">
                    <span>Reduce motion</span>
                </label>
            </div>
            <div class="setting-group">
                <label for="font-size-select">Font size:</label>
                <select id="font-size-select" aria-label="Select font size">
                    <option value="small">Small</option>
                    <option value="normal" selected>Normal</option>
                    <option value="large">Large</option>
                </select>
            </div>
        </aside>
        
            <main class="reader-main" role="main">
            <div id="story-image" class="story-image-container"></div>
            
                <div id="story-text" class="story-text" role="article" aria-live="polite">
            </div>
            
                <div id="story-choices" class="story-choices" role="navigation" aria-label="Story choices">
            </div>
            
            <div id="story-end" class="story-end hidden">
                <h2>The End</h2>
                <button onclick="window.location.href=buildPath('index.html')" class="choice-button">
                    Choose Another Story
                </button>
            </div>
        </main>
    </div>
    
    <script src="assets/js/utils.js"></script>
    <script src="assets/js/accessibility.js"></script>
    <script src="assets/js/favorites.js"></script>
    <script src="assets/js/story-reader.js"></script>
</body>
</html>
